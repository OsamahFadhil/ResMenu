# Menufy - System Architecture

## ğŸ—ï¸ High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND (Nuxt.js)                       â”‚
â”‚                     http://localhost:3000                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Admin Panel  â”‚  â”‚   Owner      â”‚  â”‚   Public     â”‚          â”‚
â”‚  â”‚   /admin     â”‚  â”‚  Dashboard   â”‚  â”‚    Menu      â”‚          â”‚
â”‚  â”‚              â”‚  â”‚  /dashboard  â”‚  â”‚ /menu/{slug} â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚                  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   API Gateway   â”‚
                    â”‚  (Axios + JWT)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND (.NET 8 API)                           â”‚
â”‚                  https://localhost:7001                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    API Controllers                        â”‚    â”‚
â”‚  â”‚  â€¢ AuthController      â€¢ MenusController                 â”‚    â”‚
â”‚  â”‚  â€¢ RestaurantsController â€¢ QRCodeController              â”‚    â”‚
â”‚  â”‚  â€¢ UsersController     â€¢ MenuTemplatesController         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚              Application Layer (CQRS)                  â”‚      â”‚
â”‚  â”‚  â€¢ Commands (Create, Update, Delete)                   â”‚      â”‚
â”‚  â”‚  â€¢ Queries (Get, List, Search)                         â”‚      â”‚
â”‚  â”‚  â€¢ Handlers (Business Logic)                           â”‚      â”‚
â”‚  â”‚  â€¢ DTOs (Data Transfer Objects)                        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                  Domain Layer                          â”‚      â”‚
â”‚  â”‚  â€¢ Entities (User, Restaurant, Category, Item, etc.)  â”‚      â”‚
â”‚  â”‚  â€¢ Enums (UserRole, etc.)                             â”‚      â”‚
â”‚  â”‚  â€¢ Interfaces                                          â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚            Infrastructure Layer                        â”‚      â”‚
â”‚  â”‚  â€¢ DbContext (Entity Framework Core)                  â”‚      â”‚
â”‚  â”‚  â€¢ Repositories                                        â”‚      â”‚
â”‚  â”‚  â€¢ External Services (QR Code, etc.)                  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   PostgreSQL DB    â”‚
                    â”‚   (menufy_db)      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚                                    â”‚  Server  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                                                â”‚
     â”‚  1. POST /api/auth/login                      â”‚
     â”‚    { email, password }                        â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                                                â”‚
     â”‚                                      2. Validate credentials
     â”‚                                      3. Generate JWT token
     â”‚                                                â”‚
     â”‚  4. Return { token, user, role }              â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                                                â”‚
     â”‚  5. Store token in localStorage                â”‚
     â”‚                                                â”‚
     â”‚  6. All subsequent requests include:           â”‚
     â”‚     Header: Authorization: Bearer {token}     â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                                                â”‚
     â”‚                                      7. Validate token
     â”‚                                      8. Check role
     â”‚                                      9. Process request
     â”‚                                                â”‚
     â”‚  10. Return response                          â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                                                â”‚
```

---

## ğŸ‘¥ Role-Based Access Control

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         User Roles                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Admin     â”‚         â”‚RestaurantOwnerâ”‚         â”‚   Customer   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                        â”‚                         â”‚
       â”‚ Can Access:            â”‚ Can Access:             â”‚ Can Access:
       â”‚ â€¢ /admin               â”‚ â€¢ /dashboard            â”‚ â€¢ /menu/{slug}
       â”‚ â€¢ Manage restaurants   â”‚ â€¢ Own categories        â”‚ â€¢ View menu
       â”‚ â€¢ Manage users         â”‚ â€¢ Own items             â”‚ â€¢ Switch language
       â”‚ â€¢ System analytics     â”‚ â€¢ Generate QR           â”‚
       â”‚                        â”‚ â€¢ Create templates      â”‚
       â”‚ Cannot:                â”‚                         â”‚ Cannot:
       â”‚ â€¢ Access /dashboard    â”‚ Cannot:                 â”‚ â€¢ Access dashboards
       â”‚                        â”‚ â€¢ Access /admin         â”‚ â€¢ Manage data
       â”‚                        â”‚ â€¢ See other restaurants â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

---

## ğŸ“Š Data Model Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ Id          â”‚
â”‚ Name        â”‚
â”‚ Email       â”‚
â”‚ Role        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RestaurantIdâ”‚â”€â”€â”€â”€â”€â”       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚       â”‚
                    â”‚       â”‚
                    â”‚       â”‚ (1:N)
                    â”‚       â”‚
              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”
              â”‚   Restaurant     â”‚
              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
              â”‚ Id               â”‚
              â”‚ Name             â”‚
              â”‚ Slug (unique)    â”‚
              â”‚ LogoUrl          â”‚
              â”‚ IsActive         â”‚
              â”‚ Translations     â”‚
              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ (1:N)
                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                     â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚MenuCategory â”‚     â”‚  QRCode    â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚ Id          â”‚     â”‚ Id         â”‚
    â”‚ Name        â”‚     â”‚ ImageUrl   â”‚
    â”‚ ParentId    â”‚â”€â”   â”‚ Link       â”‚
    â”‚ Translationsâ”‚ â”‚   â”‚ ScanCount  â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚          â”‚
         â”‚ (1:N)    â”‚ (Self-reference for subcategories)
         â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
    â”‚  MenuItem   â”‚            â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚            â”‚
    â”‚ Id          â”‚            â”‚
    â”‚ Name        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ Description â”‚
    â”‚ Price       â”‚
    â”‚ ImageUrl    â”‚
    â”‚ IsAvailable â”‚
    â”‚ Translationsâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Restaurant Owner Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Restaurant Owner Journey                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. LOGIN
   â”‚
   â”œâ”€â”€â–º /dashboard (Overview)
   â”‚    â€¢ View stats
   â”‚    â€¢ Quick actions
   â”‚
   â”œâ”€â”€â–º 2. CREATE CATEGORIES
   â”‚    â”‚
   â”‚    â”œâ”€â”€â–º /dashboard/categories
   â”‚    â”‚    â€¢ Click "Add Category"
   â”‚    â”‚    â€¢ Fill: Name, Translations
   â”‚    â”‚    â€¢ Save
   â”‚    â”‚
   â”‚    â””â”€â”€â–º Create Subcategories
   â”‚         â€¢ Select parent category
   â”‚         â€¢ Fill details
   â”‚         â€¢ Save
   â”‚
   â”œâ”€â”€â–º 3. ADD MENU ITEMS
   â”‚    â”‚
   â”‚    â”œâ”€â”€â–º Click "Add Item" on category
   â”‚    â”‚    â€¢ Fill: Name, Description, Price
   â”‚    â”‚    â€¢ Upload photo (drag & drop)
   â”‚    â”‚    â€¢ Set availability
   â”‚    â”‚    â€¢ Add translations
   â”‚    â”‚    â€¢ Save
   â”‚    â”‚
   â”‚    â””â”€â”€â–º Repeat for all items
   â”‚
   â”œâ”€â”€â–º 4. GENERATE QR CODE
   â”‚    â”‚
   â”‚    â”œâ”€â”€â–º /dashboard/qrcodes
   â”‚    â”‚    â€¢ Click "Generate QR Code"
   â”‚    â”‚    â€¢ Download PNG
   â”‚    â”‚    â€¢ Print and place on tables
   â”‚    â”‚
   â”‚    â””â”€â”€â–º QR Code links to: /menu/{restaurant-slug}
   â”‚
   â”œâ”€â”€â–º 5. CREATE TEMPLATES (Optional)
   â”‚    â”‚
   â”‚    â””â”€â”€â–º /dashboard/templates
   â”‚         â€¢ Create reusable menu structures
   â”‚         â€¢ Define categories & items
   â”‚         â€¢ Set theme colors
   â”‚         â€¢ Save for future use
   â”‚
   â””â”€â”€â–º 6. CUSTOMERS SCAN & VIEW
        â”‚
        â””â”€â”€â–º Customer scans QR
             â€¢ Opens public menu
             â€¢ Views categories & items
             â€¢ Sees photos & prices
             â€¢ Can switch language
```

---

## ğŸŒ Multi-Language Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Multi-Language System                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

FRONTEND:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  locales/                                                     â”‚
â”‚  â”œâ”€â”€ en.json  â”€â”€â–º  { "menu.title": "Menu" }                 â”‚
â”‚  â””â”€â”€ ar.json  â”€â”€â–º  { "menu.title": "Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©" }              â”‚
â”‚                                                               â”‚
â”‚  i18n.config.ts                                              â”‚
â”‚  â”œâ”€â”€ defaultLocale: 'en'                                     â”‚
â”‚  â”œâ”€â”€ locales: ['en', 'ar']                                   â”‚
â”‚  â””â”€â”€ globalInjection: true                                   â”‚
â”‚                                                               â”‚
â”‚  Components use: $t('menu.title')                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

BACKEND:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database (JSONB columns):                                    â”‚
â”‚                                                               â”‚
â”‚  MenuCategory.Translations = {                               â”‚
â”‚    "en": "Appetizers",                                       â”‚
â”‚    "ar": "Ø§Ù„Ù…Ù‚Ø¨Ù„Ø§Øª"                                          â”‚
â”‚  }                                                            â”‚
â”‚                                                               â”‚
â”‚  MenuItem.Translations = {                                   â”‚
â”‚    "en": { "name": "Pizza", "description": "..." },         â”‚
â”‚    "ar": { "name": "Ø¨ÙŠØªØ²Ø§", "description": "..." }          â”‚
â”‚  }                                                            â”‚
â”‚                                                               â”‚
â”‚  API accepts: ?lang=en or ?lang=ar                          â”‚
â”‚  Returns localized data based on Accept-Language header      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RTL SUPPORT:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  When locale = 'ar':                                          â”‚
â”‚  â€¢ document.dir = 'rtl'                                      â”‚
â”‚  â€¢ Tailwind classes reversed                                 â”‚
â”‚  â€¢ Layout mirrors (sidebar on right)                         â”‚
â”‚  â€¢ Text alignment: right                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”’ Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Security Architecture                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Layer 1: AUTHENTICATION
â”œâ”€â”€ JWT Token Generation
â”œâ”€â”€ Password Hashing (BCrypt)
â”œâ”€â”€ Token Expiration (24h)
â””â”€â”€ Refresh Token Support

Layer 2: AUTHORIZATION
â”œâ”€â”€ Role-Based Access Control (RBAC)
â”œâ”€â”€ Middleware Protection (Frontend)
â”‚   â”œâ”€â”€ admin.ts  â†’ Only Admin
â”‚   â”œâ”€â”€ owner.ts  â†’ Only RestaurantOwner
â”‚   â””â”€â”€ auth.ts   â†’ Any authenticated user
â””â”€â”€ Attribute Protection (Backend)
    â””â”€â”€ [Authorize(Roles = "Admin,RestaurantOwner")]

Layer 3: DATA ISOLATION
â”œâ”€â”€ Restaurant owners see only their data
â”œâ”€â”€ Queries filtered by RestaurantId
â”œâ”€â”€ Commands validate ownership
â””â”€â”€ Admin sees all (for management)

Layer 4: API SECURITY
â”œâ”€â”€ CORS Configuration
â”œâ”€â”€ HTTPS Enforcement
â”œâ”€â”€ SQL Injection Prevention (EF Core)
â”œâ”€â”€ XSS Protection
â””â”€â”€ CSRF Protection

Layer 5: INPUT VALIDATION
â”œâ”€â”€ Frontend Validation (Vue)
â”œâ”€â”€ Backend Validation (FluentValidation)
â”œâ”€â”€ DTO Validation
â””â”€â”€ File Upload Validation
```

---

## ğŸ“¦ Technology Stack

```
FRONTEND:
â”œâ”€â”€ Framework: Nuxt.js 3 (Vue 3)
â”œâ”€â”€ Language: TypeScript
â”œâ”€â”€ Styling: Tailwind CSS
â”œâ”€â”€ State: Pinia
â”œâ”€â”€ HTTP: Axios
â”œâ”€â”€ i18n: @nuxtjs/i18n
â””â”€â”€ Build: Vite

BACKEND:
â”œâ”€â”€ Framework: .NET 8
â”œâ”€â”€ Architecture: Clean Architecture + CQRS
â”œâ”€â”€ ORM: Entity Framework Core
â”œâ”€â”€ Validation: FluentValidation
â”œâ”€â”€ Mediator: MediatR
â”œâ”€â”€ Auth: JWT Bearer
â””â”€â”€ Database: PostgreSQL

INFRASTRUCTURE:
â”œâ”€â”€ Database: PostgreSQL 14+
â”œâ”€â”€ Cache: (Future: Redis)
â”œâ”€â”€ Storage: Local (Future: S3/Azure Blob)
â””â”€â”€ QR Generation: QRCoder library
```

---

## ğŸš€ Deployment Architecture

```
PRODUCTION SETUP:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nginx      â”‚  â”€â”€â–º Reverse Proxy
â”‚   (Port 80)  â”‚      SSL Termination
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â–º Frontend (Nuxt.js)
       â”‚    â€¢ Static files
       â”‚    â€¢ SSR rendering
       â”‚    â€¢ Port 3000
       â”‚
       â””â”€â”€â–º Backend (.NET API)
            â€¢ REST API
            â€¢ Port 7001
            â”‚
            â””â”€â”€â–º PostgreSQL
                 â€¢ Database
                 â€¢ Port 5432
```

---

## ğŸ“Š Performance Considerations

```
FRONTEND:
â”œâ”€â”€ Code Splitting (Nuxt auto)
â”œâ”€â”€ Lazy Loading (Routes)
â”œâ”€â”€ Image Optimization
â”œâ”€â”€ Caching (Browser)
â””â”€â”€ SSR for SEO

BACKEND:
â”œâ”€â”€ Database Indexing
â”‚   â”œâ”€â”€ Restaurant.Slug (unique)
â”‚   â”œâ”€â”€ User.Email (unique)
â”‚   â””â”€â”€ MenuCategory.RestaurantId
â”œâ”€â”€ Query Optimization (EF Core)
â”œâ”€â”€ Pagination (10-50 items)
â””â”€â”€ Response Caching (Future)

DATABASE:
â”œâ”€â”€ JSONB for translations (fast)
â”œâ”€â”€ Proper foreign keys
â”œâ”€â”€ Cascading deletes
â””â”€â”€ Soft deletes (IsDeleted)
```

---

**This architecture ensures**:
âœ… Scalability
âœ… Security
âœ… Maintainability
âœ… Performance
âœ… Multi-tenancy (restaurant isolation)
âœ… Internationalization
âœ… Clean separation of concerns

